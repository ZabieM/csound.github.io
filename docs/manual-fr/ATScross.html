<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>ATScross</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="ATSbufread.html" title="ATSbufread" />
    <link rel="next" href="ATSinfo.html" title="ATSinfo" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">ATScross</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="ATSbufread.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="ATSinfo.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="ATScross"></a>
      <div class="titlepage"></div>
      <a id="IndexATScross" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">ATScross</span>
        </h2>
        <p>ATScross — 
      exécute une synthèse croisée à partir de fichiers d'analyse ATS.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm28917"></a>
        <h2>Description</h2>
        <p>
      <span class="emphasis"><em>ATScross</em></span> utilise les données d'un fichier d'analyse
      ATS et d'un
      <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a> pour
      exécuter une synthèse croisée.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm28923"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">ar <span class="command"><strong>ATScross</strong></span> ktimepnt, kfmod, iatsfile, ifn, kmylev, kbuflev, ipartials \
          [, ipartialoffset, ipartialincr]</pre>
      </div>
      <div class="refsect1">
        <a id="idm28927"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>iatsfile</em></span> – entier ou chaîne de caractères dénotant
      un fichier de contrôle dérivé de l'analyse ATS d'un signal audio. Un
      entier indique le suffixe d'un fichier ATS.m ; une chaîne de caractères
      (entre guillemets) donne un nom de fichier, ou un nom de chemin
      complet. Si ce n'est pas un chemin complet, le fichier est d'abord
      cherché dans le répertoire courant, puis dans celui qui est donné par
      la variable d'environnement SADIR (si elle est définie).
    </p>
        <p>
      <span class="emphasis"><em>ifn</em></span> – numéro de la table d'une fonction stockée
      contenant une onde sinusoïdale.
    </p>
        <p>
      <span class="emphasis"><em>ipartials</em></span> – nombre de partiels qui seront utilisés
      dans la resynthèse.
    </p>
        <p>
      <span class="emphasis"><em>ipartialoffset</em></span> (facultatif) – le premier
      partiel utilisé (0 par défaut).
    </p>
        <p>
      <span class="emphasis"><em>ipartialincr</em></span> (facultatif) – fixe le pas
      d'incrémentation que ces opcodes de synthèse utilisent pour compter les
      composants bins à partir de <span class="emphasis"><em>ipartialoffset</em></span> dans la
      resynthèse (1 par défaut).
    </p>
      </div>
      <div class="refsect1">
        <a id="idm28940"></a>
        <h2>Exécution</h2>
        <p><span class="emphasis"><em>ktimepnt</em></span> – Le pointeur de temps en secondes utilisé
      comme indice sur le fichier ATS. Est utilisé pour
      <span class="emphasis"><em>ATScross</em></span> exactement de la même manière que pour
      <a class="link" href="pvoc.html" title="pvoc"><em class="citetitle">pvoc</em></a>.</p>
        <p>
      <span class="emphasis"><em>kfmod</em></span> – une entrée pour faire une transpositon de
      hauteur ou une modulation de fréquence sur tous les partiels synthétisés ;
      si aucune modulation de fréquence ou aucun changement de hauteur ne sont
      désirés, il faut utiliser 1 pour cette valeur.
    </p>
        <p>
      <span class="emphasis"><em>kmylev</em></span> - pondère le composant <span class="emphasis"><em>ATScross</em></span>
      du spectre de fréquence appliqué aux partiels depuis le fichier ATS indiqué
      par l'opcode <span class="emphasis"><em>ATScross</em></span>. L'information du spectre de
      fréquence vient du fichier ATS de <span class="emphasis"><em>ATScross</em></span>. Une valeur
      de 1 (et 0 pour <span class="emphasis"><em>kbuflev</em></span>) donne le même résultat que
      <a class="link" href="ATSadd.html" title="ATSadd"><em class="citetitle">ATSadd</em></a>.
    </p>
        <p>
      <span class="emphasis"><em>kbuflev</em></span> - pondère le composant
      <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a> du spectre
      de fréquence appliqué aux partiels depuis le fichier ATS indiqué par l'opcode
      <span class="emphasis"><em>ATScross</em></span>. L'information du spectre de fréquence vient
      du fichier ATS <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a>.
      Une valeur de 1 (et 0 pour <span class="emphasis"><em>kmylev</em></span>) donne des partiels qui
      ont l'information de fréquence du fichier ATS donné par
      l'<span class="emphasis"><em>ATScross</em></span>, mais les amplitudes imposées par les données
      du fichier ATS donné par
      <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a>.
    </p>
        <p>
      <span class="emphasis"><em>ATScross</em></span> utilise les données d'un fichier d'analyse ATS
      (indiqué par <span class="emphasis"><em>iatsfile</em></span>) et les données d'un
      <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a> pour exécuter
      une synthèse croisée. <span class="emphasis"><em>ATScross</em></span> utilise
      <span class="emphasis"><em>ktimepnt</em></span>, <span class="emphasis"><em>kfmod</em></span>,
      <span class="emphasis"><em>ipartials</em></span>, <span class="emphasis"><em>ipartialoffset</em></span> et
      <span class="emphasis"><em>ipartialincr</em></span> de la même manière que
      <a class="link" href="ATSadd.html" title="ATSadd"><em class="citetitle">ATSadd</em></a>.
      <span class="emphasis"><em>ATScross</em></span> synthétise une onde sinus pour chaque partiel
      sélectionné par l'utilisateur et utilise la fréquence de ce partiel (après
      pondération en fréquence par <span class="emphasis"><em>kfmod</em></span>) comme indice dans la
      table créée par <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a>.
      Les valeurs intermédiaires sont obtenues par interpolation.
      <span class="emphasis"><em>ATScross</em></span> utilise la somme des données d'amplitude de son
      fichier ATS (pondérée par <span class="emphasis"><em>kmylev</em></span>) et les données d'amplitude
      fournies par <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a>
      (pondérées par <span class="emphasis"><em>kbuflev</em></span>) pour mettre à l'échelle l'amplitude
      de chaque partiel qu'il synthétise. En fixant <span class="emphasis"><em>kmylev</em></span> à un
      et <span class="emphasis"><em>kbuflev</em></span> à zéro, <span class="emphasis"><em>ATScross</em></span> agira
      exactement comme <a class="link" href="ATSadd.html" title="ATSadd"><em class="citetitle">ATSadd</em></a>.
      En fixant <span class="emphasis"><em>kmylev</em></span> à zéro et <span class="emphasis"><em>kbuflev</em></span>
      à un, on produira un son qui aura tous les partiels sélectionnés par l'unité
      <span class="emphasis"><em>ATScross</em></span>, mais avec les amplitudes fournies par
      <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a>. Il n'est
      pas nécessaire que le pointeur de temps de
      l'<a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a> soit
      le même que celui de l'<span class="emphasis"><em>ATScross</em></span>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm29003"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de l'opcode ATScross. Il utilise le fichier
      <a class="ulink" href="examples/ATScross.csd" target="_top"><em class="citetitle">ATScross.csd</em></a>.

      </p>
        <div class="example">
          <a id="idm29008"></a>
          <p class="title">
            <strong>Exemple 70. Exemple de l'opcode ATScross.</strong>
          </p>
          <div class="example-contents">
            <div class="refsect1">
              <a id="idm29010"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
-odac     <span class="c1">;;;RT audio out</span>
<span class="c1">;-iadc    ;;;uncomment -iadc for RT audio input is needed too</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o ATScross.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">32</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">2</span>
<span class="vg">0dbfs</span> <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">1</span>	<span class="c1">; "beats.ats" and  "fox.ats" are created by atsa</span>

k<span class="n">time</span>	<span class="nb">line</span>	<span class="mi">0</span><span class="p">,</span> <span class="vi">p3</span><span class="p">,</span> <span class="mi">4</span>
k<span class="n">time2</span>	<span class="nb">line</span>	<span class="mi">0</span><span class="p">,</span> <span class="vi">p3</span><span class="p">,</span> <span class="mi">4</span>
k<span class="n">line</span>	<span class="nb">expseg</span>	<span class="mf">0.001</span><span class="p">,</span> <span class="mf">.3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="vi">p3</span><span class="o">-</span><span class="mf">.3</span><span class="p">,</span> <span class="mi">1</span>
k<span class="n">line2</span>	<span class="nb">expseg</span>	<span class="mf">0.001</span><span class="p">,</span> <span class="vi">p3</span><span class="p">,</span> <span class="mi">3</span>
  	<span class="nb">ATSbufread</span> k<span class="n">time2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"fox.ats"</span><span class="p">,</span> <span class="mi">20</span>
a<span class="n">out</span>	<span class="nb">ATScross</span>   k<span class="n">time</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">"beats.ats"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> k<span class="n">line</span><span class="p">,</span> <span class="mf">0.001</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">-</span> k<span class="n">line2</span><span class="p">),</span> <span class="mi">180</span>
	<span class="nb">outs</span> a<span class="n">out</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> a<span class="n">out</span><span class="o">*</span><span class="mi">2</span>

<span class="kd">endin</span>

<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
<span class="c1">; sine wave.</span>
<span class="nb">f</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">16384</span> <span class="mi">10</span> <span class="mi">1</span>

<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span> 
<span class="nb">e</span>
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
        <p>
      Cet exemple exécute une synthèse croisée à partir des deux fichiers ATS
      "fox.ats" et "beats.ats". Le résultat sera un son qui débute avec le profil
      (en fréquence) de fox.ats et se termine avec le profil de beats.ats. Toutes
      les fréquences d'onde sinusoïdale viennent de beats.ats. La valeur de
      <span class="emphasis"><em>kbuflev</em></span> est pondérée parce que l'énergie produite en
      appliquant le spectre de fréquence de fox.ats aux partiels de beats.ats est
      très importante. Noter également que les pointeurs de temps
      d'<span class="emphasis"><em>ATSbufread</em></span> (fox.atds) et d'<span class="emphasis"><em>ATScross</em></span> (beats.ats) n'ont
      pas nécessairement la même valeur, ce qui permet de lire les deux fichiers ATS
      à des vitesses différentes.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm29127"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="ATSread.html" title="ATSread"><em class="citetitle">ATSread</em></a>, 
      <a class="link" href="ATSreadnz.html" title="ATSreadnz"><em class="citetitle">ATSreadnz</em></a>, 
      <a class="link" href="ATSinfo.html" title="ATSinfo"><em class="citetitle">ATSinfo</em></a>, 
      <a class="link" href="ATSsinnoi.html" title="ATSsinnoi"><em class="citetitle">ATSsinnoi</em></a>, 
      <a class="link" href="ATSbufread.html" title="ATSbufread"><em class="citetitle">ATSbufread</em></a>, 
      <a class="link" href="ATSinterpread.html" title="ATSinterpread"><em class="citetitle">ATSinterpread</em></a>, 
      <a class="link" href="ATSpartialtap.html" title="ATSpartialtap"><em class="citetitle">ATSpartialtap</em></a>, 
      <a class="link" href="ATSadd.html" title="ATSadd"><em class="citetitle">ATSadd</em></a>, 
      <a class="link" href="ATSaddnz.html" title="ATSaddnz"><em class="citetitle">ATSaddnz</em></a>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm29148"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Alex Norman</td>
          </tr>
          <tr>
            <td>Seattle,Washington</td>
          </tr>
          <tr>
            <td>2004</td>
          </tr>
        </table>
        <p>
    </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="ATSbufread.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="ATSinfo.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">ATSbufread </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> ATSinfo</td>
        </tr>
      </table>
    </div>
  </body>
</html>
